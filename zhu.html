<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>å¼¹å¹•èŠ±æµ·å°çŒªè®¤è¯ç°åœº</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      overflow:hidden;
      background:radial-gradient(circle at top,#ffe4f0,#f9d5ff,#fce4ff);
    }
    .background{position:relative;width:100vw;height:100vh;overflow:hidden;}
    #danmaku-container,#flower-container{
      position:absolute;inset:0;pointer-events:none;overflow:hidden;
    }
    .danmaku{
      position:absolute;white-space:nowrap;font-size:18px;font-weight:600;
      animation:fly linear forwards;
      text-shadow:0 0 4px rgba(255,255,255,.9);
      opacity:.9;
    }
    @keyframes fly{
      0%{transform:translateX(100vw);opacity:0;}
      5%{opacity:1;}
      100%{transform:translateX(-120vw);opacity:0;}
    }
    .flower{
      position:absolute;font-size:18px;opacity:.6;animation:floatUp linear infinite;
    }
    @keyframes floatUp{
      0%{transform:translateY(100vh) scale(.8);opacity:0;}
      10%{opacity:.8;}
      100%{transform:translateY(-20vh) scale(1.2);opacity:0;}
    }
    .center-panel{
      position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
      background:rgba(255,255,255,.85);padding:24px 28px;border-radius:20px;
      max-width:480px;width:90vw;text-align:center;backdrop-filter:blur(10px);
      box-shadow:0 12px 30px rgba(0,0,0,.15);
    }
    button{
      border:none;cursor:pointer;font-size:15px;padding:10px 16px;
      border-radius:999px;transition:.1s;white-space:nowrap;
    }
    #btnPig{
      background:linear-gradient(135deg,#ff6fa0,#ff9bbf);color:#fff;
      box-shadow:0 4px 10px rgba(255,111,160,.5);
    }
    #btnNotPig{
      background:#fff;color:#ff6fa0;border:1px solid #ffc0d9;
      position:absolute;box-shadow:0 4px 10px rgba(0,0,0,.08);
    }
    #copy{font-size:14px;color:#444;min-height:20px;margin-top:6px;}
    #fireworks{pointer-events:none;position:fixed;inset:0;}
    .particle{
      position:absolute;width:8px;height:8px;border-radius:50%;
      animation:explode 1s ease-out forwards;
    }
    @keyframes explode{
      0%{transform:translate(0,0) scale(.5);opacity:1;}
      100%{transform:translate(var(--dx),var(--dy)) scale(.1);opacity:0;}
    }
    #msgOverlay{
      position:fixed;left:50%;top:15%;transform:translateX(-50%);
      background:rgba(0,0,0,.7);color:#fff;padding:8px 16px;border-radius:999px;
      font-size:16px;opacity:0;pointer-events:none;transition:.2s;z-index:20;
    }
  </style>
</head>
<body>
  <div class="background">
    <div id="danmaku-container"></div>
    <div id="flower-container"></div>

    <div class="center-panel">
      <!-- åå­—ç”± JS è‡ªåŠ¨å¡«å…… -->
      <button id="btnPig"><span id="namePig"></span>æ˜¯çŒª ğŸ·</button>
      <div id="copy"></div>
    </div>

    <button id="btnNotPig"><span id="nameNotPig"></span>ä¸æ˜¯çŒª ğŸ˜¼</button>
  </div>

  <div id="fireworks"></div>
  <div id="msgOverlay">çŒªçŒªä¸ä¹–å“Ÿï½</div>

  <script>
    // â˜… åªè¦æ”¹è¿™ä¸€è¡Œï¼Œå°±èƒ½æŠŠæ‰€æœ‰â€œXXXæ˜¯çŒªâ€æ¢æˆåˆ«çš„åå­—
    const NAME = "æ½˜ä¿Š";  // æ¯”å¦‚æ”¹æˆ "é˜¿æ³¢"ã€"XX"

    // ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œç»Ÿä¸€æ›¿æ¢åå­—
    const danmakuTemplates = [
      "${NAME}è¿™ä¸ªå°ç¬¨çŒªï¼",
      "${NAME}ï¼Œå®‡å®™çº§å¤§çŒªè¹„å­ï½",
      "è°å®¶çŒªè¿™ä¹ˆå¯çˆ±ï¼Œå“¦æ˜¯${NAME}ã€‚",
      "${NAME}ï¼Œåœ¨çº¿å–èŒåˆçŠ¯è ¢ï¼",
      "ä»Šæ—¥ä»½çŒªçŒªæ˜¯ï¼š${NAME} âœ”",
      "${NAME}è¿™åªå°è„‘è¢‹ç“œçŒªçŒªã€‚",
      "å…¨åœºæœ€çŒªï¼š${NAME}ï¼ˆå¯çˆ±é‚£ç§ï¼‰",
      "${NAME}ï¼Œåˆ«è£…äº†ï¼Œä½ å°±æ˜¯å°çŒªçŒªï¼",
      "${NAME}=çŒªçŒª+ç¬¨è›‹+å¯çˆ±Ã—3"
    ];

    const copyTemplates = [
      "è®¤è¯å®Œæˆï¼š${NAME}æ­£å¼è¢«è¯„ä¸ºâ€œä»Šæ—¥æœ€å¯çˆ±å°çŒªçŒªâ€ğŸ·âœ¨",
      "ç³»ç»Ÿæç¤ºï¼š${NAME}çŒªçŒªèº«ä»½é”å®šï½",
      "å®‡å®™å…¬å‘Šï¼š${NAME}ï¼Œè¿™åªå°çŒªå·²ç»è¢«å…¬å¼€å¤¸ï¼",
      "æ£€æµ‹ç»“æœï¼š${NAME}çŒªå«é‡ 100%ã€‚",
      "æ­å–œ${NAME}ï¼ŒæˆåŠŸè§£é”æˆå°±ï¼šå°çŒªæœ¬çŒªã€‚"
    ];

    // æŠŠæ¨¡æ¿é‡Œçš„ ${NAME} å…¨éƒ¨æ›¿æ¢æˆçœŸæ­£åå­—
    const danmakuTexts = danmakuTemplates.map(t => t.replaceAll("${NAME}", NAME));
    const copyTexts = copyTemplates.map(t => t.replaceAll("${NAME}", NAME));

    const danmakuContainer=document.getElementById("danmaku-container");
    const flowerContainer=document.getElementById("flower-container");
    const fireworks=document.getElementById("fireworks");
    const btnPig=document.getElementById("btnPig");
    const btnNotPig=document.getElementById("btnNotPig");
    const copyBox=document.getElementById("copy");
    const msgOverlay=document.getElementById("msgOverlay");
    const namePigSpan=document.getElementById("namePig");
    const nameNotPigSpan=document.getElementById("nameNotPig");

    // æŠŠæŒ‰é’®ä¸Šçš„åå­—ä¹Ÿæ›¿æ¢æ‰
    namePigSpan.textContent = NAME;
    nameNotPigSpan.textContent = NAME;

    function createDanmaku(){
      const s=document.createElement("span");
      s.className="danmaku";
      s.textContent=danmakuTexts[Math.floor(Math.random()*danmakuTexts.length)];
      s.style.top=Math.random()*90+"vh";
      s.style.animationDuration=8+Math.random()*6+"s";
      s.style.color=["#ff6fa0","#ff9bbf","#ffb347","#ff5e78","#ff92d3"][Math.floor(Math.random()*5)];
      danmakuContainer.appendChild(s);
      s.addEventListener("animationend",()=>s.remove());
    }
    setInterval(createDanmaku,400);

    function createFlower(){
      const s=document.createElement("span");
      s.className="flower";
      s.textContent=Math.random()>0.5?"â¤":"âœ¿";
      s.style.left=Math.random()*100+"vw";
      s.style.animationDuration=8+Math.random()*10+"s";
      flowerContainer.appendChild(s);
      setTimeout(()=>s.remove(),10000);
    }
    setInterval(createFlower,500);

    function fireworksLaunch(x,y){
      for(let i=0;i<40;i++){
        const p=document.createElement("div");
        p.className="particle";
        const a=(Math.PI*2*i)/40, d=80+Math.random()*60;
        p.style.left=x+"px"; p.style.top=y+"px";
        p.style.setProperty("--dx",Math.cos(a)*d+"px");
        p.style.setProperty("--dy",Math.sin(a)*d+"px");
        p.style.background=["#ff6fa0","#ff9bbf","#ffb347","#ffe66f","#9d7bff"][Math.floor(Math.random()*5)];
        fireworks.appendChild(p);
        setTimeout(()=>p.remove(),1000);
      }
    }

    btnPig.onclick=e=>{
      const r=e.target.getBoundingClientRect();
      fireworksLaunch(r.left+r.width/2,r.top+r.height/2);
      copyBox.textContent=copyTexts[Math.floor(Math.random()*copyTexts.length)];
    };

    function showMsg(){
      msgOverlay.style.opacity="1";
      setTimeout(()=>msgOverlay.style.opacity="0",1200);
    }

    function moveNotPig(){
      const pigRect=btnPig.getBoundingClientRect();
      const radius=120; // distance around pig button

      const angle=Math.random()*Math.PI*2;
      const x=pigRect.left + pigRect.width/2 + Math.cos(angle)*radius;
      const y=pigRect.top + pigRect.height/2 + Math.sin(angle)*radius;

      // clamp inside viewport
      const bw=btnNotPig.offsetWidth, bh=btnNotPig.offsetHeight;
      const maxX=window.innerWidth-bw, maxY=window.innerHeight-bh;
      const finalX=Math.min(Math.max(0,x),maxX);
      const finalY=Math.min(Math.max(0,y),maxY);

      btnNotPig.style.left=finalX+"px";
      btnNotPig.style.top=finalY+"px";
    }

    window.onload=()=>moveNotPig();
    btnNotPig.onclick=()=>{ showMsg(); moveNotPig(); };
    window.onresize=()=>setTimeout(moveNotPig,200);
  </script>
</body>
</html>
